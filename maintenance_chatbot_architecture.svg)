<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0) -->
<!-- Title: Maintenance_Chatbot Pages: 1 -->
<svg width="320pt" height="567pt"
 viewBox="0.00 0.00 320.00 567.00" xmlns="http://www.w3.org/2000/svg" version="1.1">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 563)">
<title>Maintenance_Chatbot</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-563 316,-563 316,4 -4,4"/>
<!-- UI -->
<g id="node1" class="node">
<title>UI</title>
<polygon fill="#cce5ff" stroke="black" style="rounded,filled" points="311.5,-559 0.5,-559 0.5,-469 311.5,-469 311.5,-559"/>
<text text-anchor="middle" x="156" y="-543.8" font-family="Arial" font-size="14.00">User Interface</text>
<text text-anchor="middle" x="156" y="-528.8" font-family="Arial" font-size="14.00">- Flask templates</text>
<text text-anchor="middle" x="156" y="-513.8" font-family="Arial" font-size="14.00">- JavaScript (chatbot, search, upload)</text>
<text text-anchor="middle" x="156" y="-498.8" font-family="Arial" font-size="14.00">- Voice In / TTS Out</text>
</g>
<!-- Backend -->
<g id="node2" class="node">
<title>Backend</title>
<polygon fill="#d5f5e3" stroke="black" style="rounded,filled" points="309,-439 3,-439 3,-364 309,-364 309,-439"/>
<text text-anchor="middle" x="156" y="-423.8" font-family="Arial" font-size="14.00">Flask Backend (Python)</text>
<text text-anchor="middle" x="156" y="-408.8" font-family="Arial" font-size="14.00">- Routes (/chatbot/ask, /upload, /search)</text>
<text text-anchor="middle" x="156" y="-393.8" font-family="Arial" font-size="14.00">- Request ID Logging</text>
<text text-anchor="middle" x="156" y="-378.8" font-family="Arial" font-size="14.00">- Auth / Roles</text>
</g>
<!-- AI -->
<g id="node3" class="node">
<title>AI</title>
<polygon fill="#fcf3cf" stroke="black" style="rounded,filled" points="312,-334 0,-334 0,-214 312,-214 312,-334"/>
<text text-anchor="middle" x="156" y="-318.8" font-family="Arial" font-size="14.00">AI Processing Pipeline</text>
<text text-anchor="middle" x="156" y="-303.8" font-family="Arial" font-size="14.00">- Intent Recognition</text>
<text text-anchor="middle" x="156" y="-288.8" font-family="Arial" font-size="14.00">- Entity Extraction (NER)</text>
<text text-anchor="middle" x="156" y="-273.8" font-family="Arial" font-size="14.00">- Query Expansion (HyDE, PRF)</text>
<text text-anchor="middle" x="156" y="-258.8" font-family="Arial" font-size="14.00">- Retrieval (FTS + pgvector)</text>
<text text-anchor="middle" x="156" y="-243.8" font-family="Arial" font-size="14.00">- Fusion + Reranking</text>
<text text-anchor="middle" x="156" y="-228.8" font-family="Arial" font-size="14.00">- Response Generation (LLM API)</text>
</g>
<!-- DB -->
<g id="node4" class="node">
<title>DB</title>
<polygon fill="#f5c6cb" stroke="black" style="rounded,filled" points="312.5,-184 0.5,-184 0.5,-64 312.5,-64 312.5,-184"/>
<text text-anchor="middle" x="156.5" y="-168.8" font-family="Arial" font-size="14.00">Knowledge Sources (PostgreSQL + Files)</text>
<text text-anchor="middle" x="156.5" y="-153.8" font-family="Arial" font-size="14.00">- Parts / Models / Equipment / Locations</text>
<text text-anchor="middle" x="156.5" y="-138.8" font-family="Arial" font-size="14.00">- Docs / Drawings / SOPs / BOMs</text>
<text text-anchor="middle" x="156.5" y="-123.8" font-family="Arial" font-size="14.00">- Images (embeddings)</text>
<text text-anchor="middle" x="156.5" y="-108.8" font-family="Arial" font-size="14.00">- Problems / Solutions / Tools</text>
</g>
<!-- Feedback -->
<g id="node5" class="node">
<title>Feedback</title>
<polygon fill="#e2d5f5" stroke="black" style="rounded,filled" points="302,-54 11,-54 11,0 302,0 302,-54"/>
<text text-anchor="middle" x="156.5" y="-38.8" font-family="Arial" font-size="14.00">Learning &amp; Feedback Loop</text>
<text text-anchor="middle" x="156.5" y="-23.8" font-family="Arial" font-size="14.00">- Log queries &amp; answers</text>
<text text-anchor="middle" x="156.5" y="-8.8" font-family="Arial" font-size="14.00">- User ratings &amp; corrections</text>
<text text-anchor="middle" x="156.5" y="6.2" font-family="Arial" font-size="14.00">- Update embeddings/models</text>
<text text-anchor="middle" x="156.5" y="21.2" font-family="Arial" font-size="14.00">- Fine-tune chatbot pipeline</text>
</g>
<!-- Edges -->
<g id="edge1" class="edge">
<title>UI-&gt;Backend</title>
<path fill="none" stroke="black" d="M156,-468.7C156,-460.98 156,-452.71 156,-444.2"/>
<polygon fill="black" stroke="black" points="159.5,-444.1 156,-434.1 152.5,-444.1 159.5,-444.1"/>
</g>
<g id="edge2" class="edge">
<title>Backend-&gt;AI</title>
<path fill="none" stroke="black" d="M156,-363.76C156,-356.02 156,-347.73 156,-339.27"/>
<polygon fill="black" stroke="black" points="159.5,-339.21 156,-329.21 152.5,-339.21 159.5,-339.21"/>
</g>
<g id="edge3" class="edge">
<title>AI-&gt;DB</title>
<path fill="none" stroke="black" d="M156.25,-213.84C156.31,-206.12 156.37,-197.84 156.43,-189.34"/>
<polygon fill="black" stroke="black" points="159.93,-189.33 156.49,-179.33 152.93,-189.32 159.93,-189.33"/>
</g>
<g id="edge4" class="edge">
<title>DB-&gt;Feedback</title>
<path fill="none" stroke="black" d="M156.5,-63.84C156.5,-56.11 156.5,-47.82 156.5,-39.33"/>
<polygon fill="black" stroke="black" points="160,-39.23 156.5,-29.23 153,-39.23 160,-39.23"/>
</g>
</g>
</svg>
